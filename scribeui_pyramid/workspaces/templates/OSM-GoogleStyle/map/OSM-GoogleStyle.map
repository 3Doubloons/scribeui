MAP
    CONFIG 'ON_MISSING_DATA' 'IGNORE'
    CONFIG "MS_ERRORFILE" "../debugFile.log"
    CONFIG 'PROJ_LIB' '../'
    FONTSET '/home/fblackburn/proj/osm-demo/basemaps/fonts.lst'
    IMAGETYPE png
    MAXSIZE 4000
    SIZE 800 800
    UNITS meters
    EXTENT -20000000 -20000000 20000000 20000000
    IMAGECOLOR '#b3d1ff'
    SHAPEPATH '/home/fblackburn/proj/osm-demo/basemaps/data/'
    WEB
        METADATA
            "ows_enable_request" "*"
            "wms_srs" "EPSG:900913 EPSG:4326"
            "labelcache_map_edge_buffer" "-10"
            "wms_title" "OSM Map"
        END
        IMAGEPATH '/tmp/ms_tmp/'
        IMAGEURL '/ms_tmp/'
    END
    DEBUG 5
    PROJECTION
        "init=epsg:900913"
    END
    INCLUDE '../symbols.map'
#---- LEVEL 1 ----#
    LAYER
        MAXSCALEDENOM 999999999
        MINSCALEDENOM 268435456
        NAME 'land1'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:4326'
        END
        DATA "TM_WORLD_BORDERS-0.3.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 999999999
        MINSCALEDENOM 268435456
        NAME 'landusage1'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name  from osm_landusages_gen0 where type in ('forest', 'residential') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 999999999
        MINSCALEDENOM 268435456
        NAME 'admin_fr_border1'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.3
            END
        END
    END
    #Railways
    #Roads
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 999999999
        MINSCALEDENOM 268435456
        TYPE POINT
        NAME "places1"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'continents'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 1
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
    END

#---- LEVEL 2 ----#
    LAYER
        MAXSCALEDENOM 268435456
        MINSCALEDENOM 134217728
        NAME 'land2'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:4326'
        END
        DATA "TM_WORLD_BORDERS-0.3.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 268435456
        MINSCALEDENOM 134217728
        NAME 'landusage2'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name  from osm_landusages_gen0 where type in ('forest', 'residential') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 268435456
        MINSCALEDENOM 134217728
        NAME 'admin_fr2'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.3
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 268435456
        MINSCALEDENOM 134217728
        NAME 'admin_fr_border2'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.3
            END
        END
    END
    #Railways
    #Roads
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 268435456
        MINSCALEDENOM 134217728
        TYPE POINT
        NAME "places2"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'continents'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 1
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
    END

#---- LEVEL 3 ----#
    LAYER
        MAXSCALEDENOM 134217728
        MINSCALEDENOM 67108864
        NAME 'land3'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:4326'
        END
        DATA "TM_WORLD_BORDERS-0.3.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 134217728
        MINSCALEDENOM 67108864
        NAME 'landusage3'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name  from osm_landusages_gen0 where type in ('forest', 'residential') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 134217728
        MINSCALEDENOM 67108864
        NAME 'admin_fr3'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.3
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 134217728
        MINSCALEDENOM 67108864
        NAME 'admin_fr_border3'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.3
            END
        END
    END
    #Railways
    #Roads
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 134217728
        MINSCALEDENOM 67108864
        TYPE POINT
        NAME "places3"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'continents'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 1
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
    END

#---- LEVEL 4 ----#
    LAYER
        MAXSCALEDENOM 67108864
        MINSCALEDENOM 33554432
        NAME 'land4'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "shoreline_300.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 67108864
        MINSCALEDENOM 33554432
        NAME 'landusage4'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 67108864
        MINSCALEDENOM 33554432
        NAME 'admin_fr4'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 67108864
        MINSCALEDENOM 33554432
        NAME 'admin_fr_border4'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
            END
        END
    END
    #Railways
    #Roads
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 67108864
        MINSCALEDENOM 33554432
        TYPE POINT
        NAME "places4"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent','city') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
    END

#---- LEVEL 5 ----#
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        NAME 'land5'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "shoreline_300.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        NAME 'landusage5'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        NAME 'admin_fr5'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        NAME 'admin_fr_border5'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        NAME 'roads5'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type  from osm_roads_gen1 where type in ('motorway', 'trunk') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
    END
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 33554432
        MINSCALEDENOM 16777216
        TYPE POINT
        NAME "places5"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent','city') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
    END

#---- LEVEL 6 ----#
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'land6'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "shoreline_300.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'landusage6'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'admin_fr6'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'admin_fr_border6'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'waterarea6'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas_gen1) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        NAME 'roads6'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type  from osm_roads_gen1 where type in ('motorway', 'trunk') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
    END
    #Shields
    #Aeroways
    LAYER
        MAXSCALEDENOM 16777216
        MINSCALEDENOM 8388608
        TYPE POINT
        NAME "places6"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent','city') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
    END

#---- LEVEL 7 ----#
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'land7'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'landusage7'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'admin_fr7'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'admin_fr_border7'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'waterarea7'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas_gen1) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'roads7'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type from osm_roads_gen1 where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                WIDTH 1
                COLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1.4
                OUTLINECOLOR 180 180 180
                WIDTH 1
                COLOR "#FFE168"
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'shields7'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads_gen0 where type = 'motorway' order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 5
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        NAME 'public_transport7'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8388608
        MINSCALEDENOM 4194304
        TYPE POINT
        NAME "places7"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent','city') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
    END

#---- LEVEL 8 ----#
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'land8'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'landusage8'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'admin_fr8'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'admin_fr_border8'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'waterarea8'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas_gen1) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'roads8'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type  from osm_roads_gen1 where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                WIDTH 1
                COLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1.4
                OUTLINECOLOR 180 180 180
                WIDTH 1
                COLOR "#FFE168"
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'shields8'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 5
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 5
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        NAME 'public_transport8'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4194304
        MINSCALEDENOM 2097152
        TYPE POINT
        NAME "places8"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('country','continent','city') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'country'
            LABEL
                FONT "scb"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 100 100 100
                OUTLINECOLOR -1 -1 -1
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION cc
            END
        END
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
            STYLE
                SIZE 5
                SYMBOL "citycircle"
                COLOR 200 200 200
                OUTLINECOLOR 0 0 0
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 9 ----#
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'land9'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'landusage9'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages_gen1 where type in ('forest', 'industrial','commercial','residential','park', 'nature_reserve')  order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'admin_fr9'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'admin_fr_border9'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'waterarea9'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas_gen1) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'roads9'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type  from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'secondary', 'tertiary', 'residential', 'road', 'living_street', 'unclassified',  'track', 'footway', 'pedestrian') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 1.8
                COLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 1.5
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 0.9
                COLOR '#FFFFFF'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'shields9'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 5
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 5
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        NAME 'public_transport9'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2097152
        MINSCALEDENOM 1048576
        TYPE POINT
        NAME "places9"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('city','town','village') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
            STYLE
                SIZE 8
                SYMBOL "citycircle"
                COLOR 255 255 255
                OUTLINECOLOR 0 0 0
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 7.5
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 10 ----#
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'land10'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'landusage10'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'admin_fr10'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'admin_fr_border10'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'waterarea10'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas_gen1) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'waterways10'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways where type = 'river') as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
    END
    #Railways
    #Roads
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'roads10'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name,ref,type from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'secondary', 'tertiary', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                WIDTH 0.5
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 2.2
                COLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 0.5
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 1.7
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 1
                COLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 0.75
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR 255 255 255 #'#F8F392'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'shields10'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        NAME 'public_transport10'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1048576
        MINSCALEDENOM 524288
        TYPE POINT
        NAME "places10"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('city','town','village') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
            STYLE
                SIZE 8
                SYMBOL "citycircle"
                COLOR 255 255 255
                OUTLINECOLOR 0 0 0
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 7.5
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 11 ----#
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'land11'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'landusage11'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'admin_fr11'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'admin_fr_border11'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'waterarea11'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 50
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'waterways11'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways where type = 'river') as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'railways11'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads_gen1 where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'roads11'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, tunnel, ref,type from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'secondary', 'tertiary', 'residential', 'road', 'living_street', 'unclassified','track', 'footway', 'pedestrian', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                WIDTH 0.5
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 2.5
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 0.5
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 2.3
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 7
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 1.8
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 7
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 1.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 6.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 0.2
                COLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 0.2
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.6
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'shields11'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 150
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'aeroways11'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 1
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 0
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 0.5
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        NAME 'public_transport11'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 524288
        MINSCALEDENOM 262144
        TYPE POINT
        NAME "places11"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('city','town','village') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 68 68 68
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 12 ----#
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'land12'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'landusage12'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 2
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'admin_fr12'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'admin_fr_border12'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'waterarea12'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 25
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'waterways12'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways where type = 'river') as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'railways12'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads_gen1 where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'roads12'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, tunnel, ref,type from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'secondary', 'tertiary', 'residential', 'road', 'living_street', 'unclassified','track', 'footway', 'pedestrian', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                WIDTH 1
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 2.5
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.3
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 1
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 2.6
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 7.3
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 2.1
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 7.3
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 1.8
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 1
                SIZE 7
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 0.3
                COLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 0.2
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.6
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'shields12'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'aeroways12'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 2
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 0
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 0.5
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        NAME 'public_transport12'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 262144
        MINSCALEDENOM 131072
        TYPE POINT
        NAME "places12"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('city','town','village') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
            STYLE
                SIZE 5
                SYMBOL "citycircle"
                COLOR 200 200 200
                OUTLINECOLOR 0 0 0
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
            STYLE
                SYMBOL "citycircle"
                COLOR 68 68 68
                OUTLINECOLOR 0 0 0
                SIZE 3
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 13 ----#
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'land13'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'landusage13'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 6
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 6
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 6
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 6
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'admin_fr13'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'admin_fr_border13'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'waterarea13'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 22
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'waterways13'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways where type = 'river') as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'railways13'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'roads13'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, tunnel, ref,type from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'secondary', 'tertiary', 'residential', 'road', 'living_street', 'unclassified','track', 'footway', 'pedestrian', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 3
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 2.8
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.6
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 2.4
                COLOR '#FFFFFF'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.6
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 2.1
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.3
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                WIDTH 2
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 1
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 3
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 2
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 2.8
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.6
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 2.4
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.6
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 2.1
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 5
                SIZE 7.3
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 0.3
                COLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 0.2
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 2
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 0.5
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.6
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'shields13'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 4
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'aeroways13'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 4
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 0
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        NAME 'public_transport13'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 131072
        MINSCALEDENOM 65536
        TYPE POINT
        NAME "places13"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where type in ('city','town','village') and name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
            STYLE
                SIZE 5
                SYMBOL "citycircle"
                COLOR 200 200 200
                OUTLINECOLOR 0 0 0
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
            STYLE
                SYMBOL "citycircle"
                COLOR 68 68 68
                OUTLINECOLOR 0 0 0
                SIZE 3
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 14 ----#
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'land14'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'landusage14'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 2
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'admin_fr14'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'admin_fr_border14'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'waterarea14'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 18
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'waterways14'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways where type = 'river') as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'railways14'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'roads14'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 5.5
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 4
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 4
                COLOR '#FFFFFF'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.2
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 3.5
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.8
                OUTLINECOLOR 180 180 180
                WIDTH 3
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.8
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 5.5
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 3
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 4
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.3
                OUTLINECOLOR 180 180 180
                WIDTH 4
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 3.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 2
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.2
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 2
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 2
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 0.7
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.4
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'shields14'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'aeroways14'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 9
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 0
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 2
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        NAME 'public_transport14'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 5.5
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            TEXT ' '
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 9
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 5.5
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 8
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 65536
        MINSCALEDENOM 32768
        TYPE POINT
        NAME "places14"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 12
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
            STYLE
                SYMBOL "citycircle"
                COLOR 68 68 68
                OUTLINECOLOR 0 0 0
                SIZE 4
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 15 ----#
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'land15'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'landusage15'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 2
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 2
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 2
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 2
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE 40
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'admin_fr15'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'admin_fr_border15'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'waterarea15'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 15
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'waterways15'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 0.6
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 0.6
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 0.6
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'railways15'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'roads15'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 4.5
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 4.5
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 5.5
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 5.5
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 4.5
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 4.5
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 4
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 4
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 9
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 3
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 3
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 3
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 4.5
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 3 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -3 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 5.5
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -2 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 4.5
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 2.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -2.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 4
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR '#FFFFFF'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 3 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -3 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 3
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 2.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -2.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 3
                COLOR 255 255 255
                OPACITY 40
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 4.5
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 5.5
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 4.5
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 4
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 3
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.2
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.1
                OUTLINECOLOR 180 180 180
                WIDTH 3
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 6.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 2
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'shields15'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'aeroways15'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 15
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 0
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 4
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        NAME 'public_transport15'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('aerodrome', 'station', 'motorway_junction')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 12
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 7
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 12
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 7
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 12
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 7
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 12
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 7
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 9
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 32768
        MINSCALEDENOM 16384
        TYPE POINT
        NAME "places15"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 12
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
            STYLE
                SYMBOL "citycircle"
                COLOR 68 68 68
                OUTLINECOLOR 0 0 0
                SIZE 4
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 8
                COLOR "#444444"
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 16 ----#
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'land16'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'landusage16'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE 60
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'admin_fr16'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'admin_fr_border16'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'waterarea16'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE 15
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'waterways16'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'railways16'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'roads16'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 7
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 13
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 13
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 7
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 13
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 13
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 13
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 13
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 12
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 12
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 6
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 3.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -3.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 13
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 3.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -3.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 13
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 13
                COLOR '#FFFFFF'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 12
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 6
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 13
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 13
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 13
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 12
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 12
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 12
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 6
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 6
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 6
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 3
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'shields16'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'aeroways16'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 30
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 1
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 8
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        NAME 'public_transport16'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('bus_stop', 'station', 'motorway_junction', 'subway_entrance', 'terminal', 'tram_stop', 'aerodrome', 'helipad')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 13
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 16384
        MINSCALEDENOM 8192
        TYPE POINT
        NAME "places16"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 13
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END

#---- LEVEL 17 ----#
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'land17'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'landusage17'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE AUTO
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'admin_fr17'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'admin_fr_border17'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'waterarea17'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'waterways17'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'railways17'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'roads17'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 16
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 14
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 8
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 15
                COLOR '#FFFFFF'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 3
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'shields17'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'aeroways17'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 40
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 1
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 12
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME 'public_transport17'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('bus_stop', 'station', 'motorway_junction', 'subway_entrance', 'terminal', 'tram_stop', 'aerodrome', 'helipad')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        TYPE POINT
        NAME "places17"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'city'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 13
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 7
                PARTIALS FALSE
                POSITION auto
                PRIORITY 10
            END
        END
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END
    LAYER
        MAXSCALEDENOM 8192
        MINSCALEDENOM 4096
        NAME buildings
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry,osm_id, name as name from osm_buildings) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASS
            STYLE
                COLOR "#bbbbbb"
                OPACITY 50
                OUTLINECOLOR "#333333"
                WIDTH 0.1
            END
            LABEL
                TYPE TRUETYPE
                FONT "sc"
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
            END
        END
    END

#---- LEVEL 18 ----#
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'land18'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'landusage18'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE AUTO
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'admin_fr18'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'admin_fr_border18'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'waterarea18'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'waterways18'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'railways18'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'roads18'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 16
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 14
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 8
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 3
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'shields18'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'aeroways18'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 40
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 1
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 12
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME 'public_transport18'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('bus_stop', 'station', 'motorway_junction', 'subway_entrance', 'terminal', 'tram_stop', 'aerodrome', 'helipad')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        TYPE POINT
        NAME "places18"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END
    LAYER
        MAXSCALEDENOM 4096
        MINSCALEDENOM 2048
        NAME buildings
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry,osm_id, name as name from osm_buildings) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASS
            STYLE
                COLOR "#bbbbbb"
                OPACITY 50
                OUTLINECOLOR "#333333"
            END
            LABEL
                TYPE TRUETYPE
                FONT "sc"
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
            END
        END
    END

#---- LEVEL 19 ----#
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'land19'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'landusage19'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE AUTO
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'admin_fr19'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'admin_fr_border19'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'waterarea19'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'waterways19'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'railways19'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'roads19'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 16
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 14
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 8
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 3
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'shields19'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'aeroways19'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 40
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 1
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 12
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME 'public_transport19'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('bus_stop', 'station', 'motorway_junction', 'subway_entrance', 'terminal', 'tram_stop', 'aerodrome', 'helipad')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        TYPE POINT
        NAME "places19"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END
    LAYER
        MAXSCALEDENOM 2048
        MINSCALEDENOM 1024
        NAME buildings
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry,osm_id, name as name from osm_buildings) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASS
            STYLE
                COLOR "#bbbbbb"
                OPACITY 50
                OUTLINECOLOR "#333333"
            END
            LABEL
                TYPE TRUETYPE
                FONT "sc"
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
            END
        END
    END

#---- LEVEL 20 ----#
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'land20'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:3857'
        END
        DATA "processed_p.shp"
        CLASS
            STYLE
                COLOR "#E8E6E1"
                OUTLINECOLOR "#E8E6E1"
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'landusage20'
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry ,osm_id, type, name from osm_landusages where type in ('forest', 'wood', 'pedestrian','cemetery','industrial','commercial','residential','park','golf_course','parking','stadium','sports_center','pitch', 'nature_reserve', 'apron', 'helipad', 'aerodrome', 'university', 'school', 'college', 'hospital', 'meadow', 'playground','recreation_ground','village_green') order by area desc) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') = 0 )
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'forest' AND length('[name]') > 0 )
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION /wood|forest/
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#4B674B'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'residential'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'pedestrian'
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'industrial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'commercial'
            STYLE
                COLOR '#E8E6E1'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION 'cemetery'
            STYLE
                COLOR '#C9DFAF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 2
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'park' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'park'
                    COLOR '#4B674B'
                    SIZE 10
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') = 0)
            STYLE
                COLOR '#CDDBBA'
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'golf_course' AND length('[name]') > 0)
            STYLE
                COLOR '#CDDBBA'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'golf'
                    SIZE 16
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') = 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'nature_reserve' AND length('[name]') > 0)
            STYLE
                COLOR '#CADFAA'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#4B674B'
                PRIORITY 10
                #REPEATDISTANCE: 1
                POSITION LC
                BUFFER 5
                OFFSET 0 -20
            END
        END
        CLASS
            EXPRESSION 'hospital'
            STYLE
                COLOR '#EBD2CF'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'hospital'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /university/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /college/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'university'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /school/
            STYLE
                COLOR '#E8DDBD'
            END
            LABEL
                EXPRESSION (length('[name]') > 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                ENCODING 'utf-8'
                COLOR '#675A4A'
                PRIORITY 10
                POSITION CR
                BUFFER 5
                OFFSET 0 0
                POSITION LC
                COLOR '#564A3D'
                PRIORITY 3
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'school'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION /sports_center|stadium|pitch/
            STYLE
                COLOR '#EDE3D0'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#564A3D'
                PRIORITY 1
            END
        END
        CLASS
            EXPRESSION 'parking'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'P'
            LABEL
                MINFEATURESIZE AUTO
                BUFFER 5
                FONT 'scb'
                TYPE TRUETYPE
                SIZE 9
                COLOR '#675747'
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                PARTIALS FALSE
                PRIORITY 1
                POSITION CC
            END
        END
        CLASS
            EXPRESSION 'aerodrome'
            STYLE
                COLOR '#DFDBD4'
            END
            LABEL
                EXPRESSION (length('[name]') |= 0)
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 10
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'apron'
            STYLE
                COLOR '#DFDBD4'
            END
        END
        CLASS
            EXPRESSION 'helipad'
            STYLE
                COLOR '#DFDBD4'
            END
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
        #Catch-all class for developpement only
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'admin_fr20'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION ('[admin_level]' != '4')
            STYLE
                OUTLINECOLOR 200 200 200
                SIZE 0.9
                PATTERN
                    5.0 5.0
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'admin_fr_border20'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id, name as name,admin_level from osm_admin ) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASSITEM "admin_level"
        CLASS
            EXPRESSION '4'
            STYLE
                OUTLINECOLOR 100 100 100
                SIZE 0.1
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'waterarea20'
        TYPE POLYGON
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry,osm_id ,name,type from osm_waterareas) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION "riverbank"
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
        END
        CLASS
            STYLE
                COLOR '#b3d1ff'
                OUTLINECOLOR '#b3d1ff'
            END
            LABEL
                MINFEATURESIZE AUTO
                TYPE TRUETYPE
                PARTIALS FALSE
                ANTIALIAS true
                FONT 'sco'
                ENCODING 'utf-8'
                MINDISTANCE 200
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR '#FFFFFF'
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 5
                ALIGN CENTER
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'waterways20'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, type, name from osm_waterways) as foo using unique osm_id using srid=3857"
        CLASSITEM 'type'
        LABELITEM 'name'
        CLASS
            EXPRESSION ('[TYPE]' = 'river')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'stream')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
        CLASS
            EXPRESSION ('[TYPE]' = 'canal')
            STYLE
                COLOR '#b3d1ff'
                WIDTH 1.5
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
            END
        END
    END
    #Railways
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'railways20'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select geometry, osm_id, tunnel from osm_roads where type='rail') as foo using unique osm_id using srid=3857"
        CLASS
            EXPRESSION ("[tunnel]"= '0')
            STYLE
                WIDTH 1
                COLOR '#C0C0C0'
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
        CLASS
            STYLE
                WIDTH 1
                COLOR '#777777'
                OPACITY 40
                LINECAP BUTT
            END
            STYLE
                WIDTH 5
                COLOR '#777777'
                PATTERN
                    1 30
                END
                LINECAP BUTT
            END
        END
    END
    #Roads
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'roads20'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select oneway, osm_id,geometry,name,ref,type,tunnel,bridge from osm_roads where type in ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'road', 'living_street', 'unclassified', 'track', 'footway', 'pedestrian', 'service', 'ferry') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        #Bridges
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.5
                LINECAP BUTT
                COLOR "#ffe199"
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "motorway")
            STYLE
            END
            STYLE
                WIDTH 16
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR "#fa9e25"
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#fa9e25"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk_link")
            STYLE
            END
            STYLE
                WIDTH 9
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.4
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "trunk")
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR "#FFE168"
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "primary" or "[type]" = "primary_link"))
            STYLE
            END
            STYLE
                WIDTH 15
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR '#FFFFFF'
            END
            STYLE
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
            END
            STYLE
                WIDTH 14
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
            END
            STYLE
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 0.8
                WIDTH 8
                LINECAP BUTT
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                OUTLINECOLOR 136 136 136
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
            END
            STYLE
                WIDTH 7
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR 255 255 255
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION ("[bridge]"="1" and "[type]" = "pedestrian")
            STYLE
            END
            STYLE
                WIDTH 0.1
                OUTLINECOLOR 136 136 136
                OUTLINEWIDTH 1
                LINECAP BUTT
                COLOR '#E9E5DC'
            END
            STYLE
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        #Tunnel
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#ffe199"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "motorway")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -8 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 16
                COLOR "#fa9e25"
                OPACITY 30
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk_link")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -4.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 9
                COLOR "#FFE168"
                OPACITY 40
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and "[type]" = "trunk")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 15
                COLOR "#FFE168"
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "secondary" or "[type]" = "secondary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -6.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 14
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "tertiary" or "[type]" = "tertiary_link"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -7 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
            END
        END
        CLASS
            EXPRESSION ("[tunnel]"="1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET 5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                OFFSET -5.5 -99
                PATTERN
                    1 4
                END
            END
            STYLE
                WIDTH 7
                COLOR 255 255 255
                OPACITY 40
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
            END
        END
        #Roads + oneways
        CLASS
            EXPRESSION "motorway_link"
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#ffe199"
            END
        END
        CLASS
            EXPRESSION "motorway"
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                LINECAP BUTT
                WIDTH 16
                COLOR "#fa9e25"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION "trunk_link"
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 9
                COLOR "#FFE168"
            END
        END
        CLASS
            EXPRESSION ("[type]" = "trunk")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.6
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR "#FFE168"
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#7c4107'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION /primary|primary_link/
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.9
                OUTLINECOLOR 180 180 180
                WIDTH 15
                COLOR '#FFFFFF'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 9
                COLOR '#828282'
                OUTLINECOLOR '#FFFFFF'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "secondary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = "secondary" OR "[type]" = "secondary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 14
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 300
                REPEATDISTANCE 10
                OUTLINEWIDTH 1
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "tertiary"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[type]" = "tertiary" OR "[type]" = "tertiary_link")
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 8
                COLOR 255 255 255 #'#F8F392'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 8
                COLOR '#828282'
                OUTLINECOLOR 255 255 255 #'#F8F392'
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "-1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE -180
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[oneway]" = "1" and ("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            STYLE
                GAP -80
                ANGLE 0
                SYMBOL 'oneway'
                COLOR 180 180 180
                SIZE 8
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION (("[type]" = "unclassified" or "[type]" = "residential" or "[type]" = "service" or "[type]" = "road" or "[type]" = "living_street"))
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 7
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                PRIORITY 9
                SIZE 7.5
                COLOR '#828282'
                OUTLINECOLOR 255 255 255
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'track')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                PATTERN
                    2 3
                END
                WIDTH 0.5
                COLOR 255 255 255
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR 255 255 255
                FONT 'ar'
            END
        END
        CLASS
            EXPRESSION 'footway'
            STYLE
                WIDTH 1
                COLOR 200 200 200
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'pedestrian')
            TEXT ("[name]")
            STYLE
                OUTLINEWIDTH 0.5
                OUTLINECOLOR 180 180 180
                WIDTH 0.1
                COLOR '#E9E5DC'
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                MINDISTANCE 500
                REPEATDISTANCE 10
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                SIZE 7
                COLOR '#333333'
                OUTLINECOLOR '#E9E5DC'
            END
        END
        CLASS
            EXPRESSION ("[type]" = 'ferry')
            TEXT ("[name]")
            STYLE
                WIDTH 0.8
                COLOR 180 180 180
                PATTERN
                    6 3
                END
            END
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                ENCODING 'utf-8'
                MINDISTANCE 200
                REPEATDISTANCE 400
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                ANGLE FOLLOW
                BUFFER 3
                COLOR 180 180 180
                OUTLINECOLOR '#E5E5E5'
            END
        END
    END
    #Shields
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'shields20'
        TYPE ANNOTATION
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA "geometry from (select osm_id,geometry,name, ref,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[1] as shield_class,(regexp_matches(ref, '([a-z,A-Z]+)? ?([0-9]+)[^;]*', 'g'))[2] as shield_no,type,tunnel,bridge from osm_roads where type in ('motorway', 'trunk', 'primary') order by z_order asc, st_length(geometry) asc) as foo using unique osm_id using srid=3857"
        FILTER (length('[shield_no]') != 0)
        LABELITEM 'shield_no'
        CLASSITEM 'shield_class'
        CLASS
            EXPRESSION "I"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 255 255 255
                SIZE 6
                STYLE
                    SYMBOL '../symbols/interstate-shield.png'
                    SIZE 19
                END
            END
        END
        CLASS
            EXPRESSION "US"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/ushwy-shield.png'
                    SIZE 18
                END
            END
        END
        CLASS
            EXPRESSION "SR"
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                PRIORITY 1
                FONT 'sc'
                REPEATDISTANCE 20
                MINDISTANCE 200
                BUFFER 10
                COLOR 0 0 0
                SIZE 6
                STYLE
                    SYMBOL '../symbols/circle-shield.png'
                    SIZE 18
                END
            END
        END
    END
    #Aeroways
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'aeroways20'
        TYPE LINE
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        DATA 'geometry from (select geometry, osm_id, type from osm_aeroways) as foo using unique osm_id using srid=3857'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'runway'
            STYLE
                COLOR 180 180 180
                WIDTH 40
                LINECAP BUTT
                LINEJOIN MITER
            END
            STYLE
                COLOR 80 80 80
                WIDTH 1
                PATTERN
                    2 2
                END
                LINECAP BUTT
            END
        END
        CLASS
            EXPRESSION 'taxiway'
            STYLE
                COLOR 180 180 180
                WIDTH 12
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME 'public_transport20'
        TYPE ANNOTATION
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select ref, geometry, osm_id, type, name from osm_transport_points where type in ('bus_stop', 'station', 'motorway_junction', 'subway_entrance', 'terminal', 'tram_stop', 'aerodrome', 'helipad')) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'bus_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'bussymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'subway_entrance'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'metrosymbol'
                END
            END
        END
        CLASS
            EXPRESSION 'tram_stop'
            TEXT ' '
            LABEL
                FONT 'scb'
                TYPE TRUETYPE
                PARTIALS FALSE
                COLOR 0 0 0
                OUTLINECOLOR 0 0 0
                BUFFER 12
                POSITION AUTO
                STYLE
                    COLOR 0 111 239
                    OUTLINECOLOR 255 255 255
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 255 255 255
                    SIZE 8
                    SYMBOL 'tramwaysymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]' = 'station')
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3B5C79'
                POSITION UC
                PRIORITY 10
                STYLE
                    COLOR 255 255 255
                    OUTLINECOLOR 0 111 239
                    WIDTH 0.5
                    SIZE 14
                    SYMBOL 'transportsquare'
                END
                STYLE
                    COLOR 0 111 239
                    SIZE 8
                    SYMBOL 'stationsymbol'
                END
            END
        END
        CLASS
            EXPRESSION ('[type]'='aerodrome' AND length('[name]') = 0)
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                BUFFER 2
                FONT 'sc'
                SIZE 10
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
                MINDISTANCE 200
                COLOR '#3F3931'
                PRIORITY 3
                BUFFER 5
                POSITION LC
                OFFSET 0 -20
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    OFFSET 0 -20
                    SYMBOL 'aeroport'
                    COLOR '#3F3931'
                    SIZE 20
                END
            END
        END
        CLASS
            EXPRESSION 'helipad'
            TEXT 'H'
            LABEL
                TYPE TRUETYPE
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                ANTIALIAS true
                FONT 'sc'
                COLOR 0 111 239
                PRIORITY 10
                POSITION CC
                SIZE 8
                STYLE
                    GEOMTRANSFORM 'labelpnt'
                    SYMBOL 'transportsquare'
                    SIZE 15
                    COLOR '#DFDBD4'
                END
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        TYPE POINT
        NAME "places20"
        DEBUG 5
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select * from osm_places where name is not NULL order by population asc nulls first) as foo using unique osm_id using srid=3857"
        LABELITEM 'name'
        CLASSITEM 'type'
        CLASS
            EXPRESSION 'town'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 11
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                POSITION AUTO
                BUFFER 4
                POSITION auto
                PRIORITY 8
            END
        END
        CLASS
            EXPRESSION 'village'
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 10
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                PARTIALS FALSE
                BUFFER 4
                POSITION AUTO
                PRIORITY 7
            END
        END
        CLASS
            EXPRESSION /suburb|hamlet|locality/
            LABEL
                FONT "sc"
                TYPE TRUETYPE
                ENCODING "utf-8"
                SIZE 9
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 1
                WRAP ' '
                MAXLENGTH 8
                ALIGN CENTER
                BUFFER 4
                PARTIALS FALSE
                POSITION AUTO
                PRIORITY 7
            END
        END
    END
    LAYER
        MAXSCALEDENOM 1024
        MINSCALEDENOM 512
        NAME buildings
        TYPE POLYGON
        GROUP 'default'
        STATUS ON
        PROJECTION
            'init=epsg:900913'
        END
        PROCESSING 'LABEL_NO_CLIP=ON'
        PROCESSING 'CLOSE_CONNECTION=DEFER'
        CONNECTION "host=localhost dbname=osm user=osm password=osm port=5432"
        CONNECTIONTYPE POSTGIS
        DATA "geometry from (select geometry,osm_id, name as name from osm_buildings) as foo using unique osm_id using srid=3857"
        LABELITEM "name"
        CLASS
            STYLE
                COLOR "#bbbbbb"
                OPACITY 50
                OUTLINECOLOR "#333333"
                WIDTH 0.5
            END
            LABEL
                TYPE TRUETYPE
                FONT "sc"
                PARTIALS FALSE
                MINFEATURESIZE AUTO
                SIZE 8
                COLOR 0 0 0
                OUTLINECOLOR 255 255 255
                OUTLINEWIDTH 2
                WRAP ' '
                MAXLENGTH 6
                ALIGN CENTER
            END
        END
    END

END
